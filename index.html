<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        :root {
            --primary: #1976d2;
            --secondary: #0d47a1;
            --bg: #f5f7fa;
            --card: #ffffff;
            --text: #2c3e50;
        }
        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: var(--bg);
            color: var(--text);
            -webkit-tap-highlight-color: transparent;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--card);
        }
        .header {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
            font-size: 18px;
            position: relative;
        }
        .match-header {
            background: var(--secondary);
            color: white;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            font-size: 16px;
        }
        .match-details {
            background: #e3f2fd;
            padding: 8px;
            text-align: center;
            font-size: 14px;
            color: var(--secondary);
        }
        .odds-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 15px;
        }
        .odds-card {
            background: var(--card);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border: 1px solid #e0e0e0;
        }
        .odds-value {
            font-size: 18px;
            font-weight: 700;
            margin: 5px 0;
            color: var(--primary);
        }
        .odds-label {
            font-size: 12px;
            color: #7f8c8d;
        }
        .calculator {
            background: var(--card);
            margin: 15px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .input-group {
            margin-bottom: 10px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
        }
        .custom-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            background: #f9f9f9;
        }
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 4px;
            width: 100%;
            font-size: 16px;
            margin-top: 10px;
            cursor: pointer;
        }
        .results {
            background: #e8f5e9;
            margin: 15px;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }
        .result-item {
            margin-bottom: 8px;
        }
        .keyboard {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
            padding: 10px;
            background: #eceff1;
            border-top: 1px solid #ddd;
        }
        .key {
            background: white;
            border: none;
            border-radius: 4px;
            padding: 15px;
            font-size: 18px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .key-enter {
            background: var(--primary);
            color: white;
            grid-column: span 2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            Tennis Odds Master
            <div style="position: absolute; right: 15px; top: 15px;">⚙️</div>
        </div>
        
        <div class="match-header">
            <span>Карлос Алькарас</span>
            <span>Новак Джокович</span>
        </div>
        
        <div class="match-details">
            ATP Madrid • Полуфинал • 3 сета • 07.05.2023
        </div>
        
        <div class="odds-grid">
            <div class="odds-card">
                <div class="odds-label">Победа</div>
                <div class="odds-value">2.10</div>
            </div>
            <div class="odds-card">
                <div class="odds-label">Фора (+1.5)</div>
                <div class="odds-value">1.72</div>
            </div>
            <div class="odds-card">
                <div class="odds-label">Тотал >22.5</div>
                <div class="odds-value">1.95</div>
            </div>
            <div class="odds-card">
                <div class="odds-label">ТБ 1-й сет</div>
                <div class="odds-value">1.83</div>
            </div>
            <div class="odds-card">
                <div class="odds-label">ТМ 9.5 геймы</div>
                <div class="odds-value">2.05</div>
            </div>
            <div class="odds-card">
                <div class="odds-label">Чёт</div>
                <div class="odds-value">1.90</div>
            </div>
        </div>
        
        <div class="calculator">
            <h3>Анализ Value Bet</h3>
            <div class="input-group">
                <label>Коэффициент букмекера:</label>
                <input type="text" class="custom-input" id="bookmaker-odds" placeholder="2.10" readonly>
            </div>
            <div class="input-group">
                <label>Ваша оценка вероятности (%):</label>
                <input type="text" class="custom-input" id="probability" placeholder="55" readonly>
            </div>
            <button class="btn" id="calculate-btn">Рассчитать Value</button>
        </div>
        
        <div class="results">
            <h3>Результат анализа:</h3>
            <div class="result-item">
                <strong>Value Index:</strong> <span id="value-index">1.15</span>
                <div style="font-size:12px; color:#666;">(>1 = ценная ставка)</div>
            </div>
            <div class="result-item">
                <strong>Рекомендуемая ставка:</strong> <span id="recommendation">Да (Value+)</span>
            </div>
            <div class="result-item">
                <strong>Ожидаемая доходность:</strong> <span id="profit">+8.5%</span>
            </div>
            <div class="result-item">
                <strong>Историческая точность:</strong> <span id="accuracy">73.2%</span>
            </div>
        </div>
        
        <div class="keyboard">
            <div class="key">1</div>
            <div class="key">2</div>
            <div class="key">3</div>
            <div class="key">⌫</div>
            <div class="key">4</div>
            <div class="key">5</div>
            <div class="key">6</div>
            <div class="key">.</div>
            <div class="key">7</div>
            <div class="key">8</div>
            <div class="key">9</div>
            <div class="key">0</div>
            <div class="key">+</div>
            <div class="key">-</div>
            <div class="key key-enter">Готово</div>
        </div>
    </div>

    <script>
        // Отключение системной клавиатуры
        document.querySelectorAll('.custom-input').forEach(input => {
            input.addEventListener('focus', (e) => {
                e.preventDefault();
                input.blur();
            });
        });
        
        // Кастомная клавиатура
        let activeInput = null;
        const keys = document.querySelectorAll('.key');
        
        keys.forEach(key => {
            key.addEventListener('click', () => {
                const keyValue = key.textContent;
                
                if (keyValue === '⌫') {
                    if (activeInput) {
                        activeInput.value = activeInput.value.slice(0, -1);
                    }
                } else if (keyValue === 'Готово') {
                    calculateValue();
                } else {
                    if (!activeInput) {
                        activeInput = document.getElementById('bookmaker-odds');
                    }
                    activeInput.value += keyValue;
                }
            });
        });
        
        // Алгоритм расчета Value Bet
        function calculateValue() {
            const bookmakerOdds = parseFloat(document.getElementById('bookmaker-odds').value) || 2.10;
            const probability = parseFloat(document.getElementById('probability').value) || 55;
            
            const impliedProbability = (1 / bookmakerOdds) * 100;
            const valueIndex = (probability / impliedProbability).toFixed(2);
            
            document.getElementById('value-index').textContent = valueIndex;
            
            if (valueIndex > 1) {
                document.getElementById('recommendation').textContent = 'Да (Value+)';
                document.getElementById('recommendation').style.color = '#4caf50';
                const profit = ((bookmakerOdds * (probability/100) - 1) * 100;
                document.getElementById('profit').textContent = `+${profit.toFixed(1)}%`;
            } else {
                document.getElementById('recommendation').textContent = 'Нет (Value-)';
                document.getElementById('recommendation').style.color = '#f44336';
                document.getElementById('profit').textContent = '0%';
            }
        }
        
        // Автовыбор поля ввода
        document.getElementById('bookmaker-odds').addEventListener('click', () => {
            activeInput = document.getElementById('bookmaker-odds');
        });
        
        document.getElementById('probability').addEventListener('click', () => {
            activeInput = document.getElementById('probability');
        });
    </script>
</body>
</html>
